---
layout: layout.njk
---

<h1>üëãüèæ</h1>

<p>
  I  used to <a href="https://linkedin.com/in/mehulkar" target="_blank" rel="noopener">work at Apple</a>, but after ten years,
  I've just accepted an offer at <a href="https://vercel.com">Vercel</a> to work on <a href="https://turborepo.org">Turborepo</a>,
  starting on August 1st!
</p>
<p>
  The best way to see what I'm  interested in is to glance through my <a href="https://twitter.com/mehulkar/likes" target="_blank" rel="noopener">Twitter favorites</a>
  or see what I'm reading on <a href="https://www.goodreads.com/user/show/27391275-mehul" target="_blank" rel="noopener">Goodreads</a>.
  But you can also stay here and read what I'm thinking about. Here's a printable <a href="/resume">resume</a>.
</p>

<h2 class="mb3">Recently</h2>
<ul class="small">
  <li>
    watched <span id="movie">...</span> and rated it <span id="rating">0/5</span>.
  </li>
  <li>
    <p id="tweet-preamble">Liked a tweet from:</p>
    <blockquote id="tweet"></blockquote>
  </li>
</ul>

<h2 class="mb3">Posts</h2>

{% set posts = collections.byYear | category("programming") %}
{% from 'partials/_by-year.njk' import render %}
{{ render(posts) }}

<script type="module">
  const response = await fetch('/api/watching');
  const { name, rating } = await response.json();
  document.getElementById('movie').innerText = `"${name}"`;
  document.getElementById('rating').innerText = `${rating}/5 stars`;
</script>

<script nomodule>
  var req = new XMLHttpRequest();
  req.addEventListener("load", function(res) {
    const { name, rating } = JSON.parse(req.responseText);
    document.getElementById('movie').innerText = `"${name}"`;
    document.getElementById('rating').innerText = `${rating}/5 stars`;
  });

  req.open("GET", "/api/watching");
  req.send();
</script>

<script type="module">
  const response = await fetch('/api/fave-tweet');
  const data = await response.json();
  console.log(data);
  const { tweet, author } = data;
  const url = `https://twitter.com/${author.username}/status/${tweet.id}`;
  const authorUrl = `https://twitter.com/${author.username}`;

  document.getElementById('tweet-preamble').innerHTML = `Liked <a href="${url}" target="_blank" rel="noopener">a tweet</a> from <a href="${authorUrl}">@${author.username}</a>:`;
  document.getElementById('tweet').innerHTML = tweet.html;
</script>

<script nomodule>
</script>
